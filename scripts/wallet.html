<!DOCTYPE html>
<html>
<head>
    <title>Minimal GUI Wallet</title>
</head>
<body>
<h1>Minimal GUI Wallet</h1>

<input id="mnemonic" placeholder="Enter mnemonic (leave blank to generate)">
<button id="create">Create Wallet</button>
<p id="address"></p>
<p id="balance"></p>

<hr>

<input id="to" placeholder="Recipient Address">
<input id="amount" placeholder="Amount ETH">
<button id="send">Send ETH</button>
<p id="tx"></p>

<script type="module">
import { ethers } from "https://cdn.ethers.io/lib/ethers-6.6.umd.min.js";

let wallet, provider;

document.getElementById("create").onclick = async () => {
    let m = document.getElementById("mnemonic").value.trim();
    wallet = m ? ethers.Wallet.fromMnemonic(m) : ethers.Wallet.createRandom();
    if (!m) alert("Generated mnemonic:\n" + wallet.mnemonic.phrase);

    document.getElementById("address").innerText = "Address: " + wallet.address;

    provider = new ethers.JsonRpcProvider(
        "https://eth-mainnet.alchemyapi.io/v2/YOUR_ALCHEMY_KEY"
    );
    wallet = wallet.connect(provider);

    const bal = await provider.getBalance(wallet.address);
    document.getElementById("balance").innerText = "Balance: " + ethers.formatEther(bal) + " ETH";
};

document.getElementById("send").onclick = async () => {
    if (!wallet) { alert("Create wallet first."); return; }
    const to = document.getElementById("to").value.trim();
    const amount = document.getElementById("amount").value.trim();
    if (!to || !amount) { alert("Fill recipient and amount"); return; }

    document.getElementById("tx").innerText = "Sending...";
    try {
        const tx = await wallet.sendTransaction({
            to,
            value: ethers.parseEther(amount)
        });
        document.getElementById("tx").innerText = "Tx Hash: " + tx.hash;
        await tx.wait();
        alert("âœ… Transaction confirmed");
    } catch (err) {
        alert("Error: " + err.message);
    }
};
</script>
</body>
</html>
